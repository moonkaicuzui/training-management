import{j as e,o as de,p as Y,q as ue,r as xe,s as pe,t as K,A as me,v as R,w as fe,D as he,x as ge,y as ve,z as je}from"./vendor-ui-3vVLwvSG.js";import{r as a,u as ye}from"./vendor-react-3RSvEdhP.js";import{c as be,B,C as _,e as P,n as Ne,o as Ce,p as we,i as Te,a as _e,b as Pe,d as Ee,S as Se,f as q}from"./index-CgMhWZQG.js";import{S as O,a as M,b as L,c as F,d as E}from"./select-BFo01T9H.js";import{D as Re,a as De,b as Ae,c as ke,d as Ie}from"./dialog-Xn2gZ5Td.js";import{a as Oe,u as Me}from"./normalizedStore-BVJQc_3I.js";import{P as Le}from"./LoadingSpinner-8oabGzS7.js";import{u as Fe}from"./vendor-i18n-BvwHJnYO.js";import{D as He}from"./vendor-icons-O1RA8j5J.js";import{f as U}from"./vendor-utils-DC3_vehr.js";import"./vendor-charts-BNo0ya6L.js";function $e(t,r=[]){let s=[];function o(c,i){const u=a.createContext(i),d=s.length;s=[...s,i];const p=f=>{const{scope:g,children:l,...h}=f,j=g?.[t]?.[d]||u,v=a.useMemo(()=>h,Object.values(h));return e.jsx(j.Provider,{value:v,children:l})};p.displayName=c+"Provider";function m(f,g){const l=g?.[t]?.[d]||u,h=a.useContext(l);if(h)return h;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[p,m]}const n=()=>{const c=s.map(i=>a.createContext(i));return function(u){const d=u?.[t]||c;return a.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return n.scopeName=t,[o,Ve(n,...r)]}function Ve(...t){const r=t[0];if(t.length===1)return r;const s=()=>{const o=t.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(c){const i=o.reduce((u,{useScope:d,scopeName:p})=>{const f=d(c)[`__scope${p}`];return{...u,...f}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:i}),[i])}};return s.scopeName=r.scopeName,s}function Be(t){const r=Ge(t),s=a.forwardRef((o,n)=>{const{children:c,...i}=o,u=a.Children.toArray(c),d=u.find(ze);if(d){const p=d.props.children,m=u.map(f=>f===d?a.Children.count(p)>1?a.Children.only(null):a.isValidElement(p)?p.props.children:null:f);return e.jsx(r,{...i,ref:n,children:a.isValidElement(p)?a.cloneElement(p,void 0,m):null})}return e.jsx(r,{...i,ref:n,children:c})});return s.displayName=`${t}.Slot`,s}function Ge(t){const r=a.forwardRef((s,o)=>{const{children:n,...c}=s;if(a.isValidElement(n)){const i=qe(n),u=We(c,n.props);return n.type!==a.Fragment&&(u.ref=o?de(o,i):i),a.cloneElement(n,u)}return a.Children.count(n)>1?a.Children.only(null):null});return r.displayName=`${t}.SlotClone`,r}var Z=Symbol("radix.slottable");function Xe(t){const r=({children:s})=>e.jsx(e.Fragment,{children:s});return r.displayName=`${t}.Slottable`,r.__radixId=Z,r}function ze(t){return a.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Z}function We(t,r){const s={...r};for(const o in r){const n=t[o],c=r[o];/^on[A-Z]/.test(o)?n&&c?s[o]=(...u)=>{const d=c(...u);return n(...u),d}:n&&(s[o]=n):o==="style"?s[o]={...n,...c}:o==="className"&&(s[o]=[n,c].filter(Boolean).join(" "))}return{...t,...s}}function qe(t){let r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning;return s?t.ref:(r=Object.getOwnPropertyDescriptor(t,"ref")?.get,s=r&&"isReactWarning"in r&&r.isReactWarning,s?t.props.ref:t.props.ref||t.ref)}var Ue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=Ue.reduce((t,r)=>{const s=Be(`Primitive.${r}`),o=a.forwardRef((n,c)=>{const{asChild:i,...u}=n,d=i?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(d,{...u,ref:c})});return o.displayName=`Primitive.${r}`,{...t,[r]:o}},{}),[H]=$e("Tooltip",[Y]),$=Y(),J="TooltipProvider",Ke=700,G="tooltip.open",[Ze,z]=H(J),Q=t=>{const{__scopeTooltip:r,delayDuration:s=Ke,skipDelayDuration:o=300,disableHoverableContent:n=!1,children:c}=t,i=a.useRef(!0),u=a.useRef(!1),d=a.useRef(0);return a.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),e.jsx(Ze,{scope:r,isOpenDelayedRef:i,delayDuration:s,onOpen:a.useCallback(()=>{window.clearTimeout(d.current),i.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.current=!0,o)},[o]),isPointerInTransitRef:u,onPointerInTransitChange:a.useCallback(p=>{u.current=p},[]),disableHoverableContent:n,children:c})};Q.displayName=J;var A="Tooltip",[Je,V]=H(A),ee=t=>{const{__scopeTooltip:r,children:s,open:o,defaultOpen:n,onOpenChange:c,disableHoverableContent:i,delayDuration:u}=t,d=z(A,t.__scopeTooltip),p=$(r),[m,f]=a.useState(null),g=ue(),l=a.useRef(0),h=i??d.disableHoverableContent,j=u??d.delayDuration,v=a.useRef(!1),[y,b]=xe({prop:o,defaultProp:n??!1,onChange:k=>{k?(d.onOpen(),document.dispatchEvent(new CustomEvent(G))):d.onClose(),c?.(k)},caller:A}),N=a.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),C=a.useCallback(()=>{window.clearTimeout(l.current),l.current=0,v.current=!1,b(!0)},[b]),w=a.useCallback(()=>{window.clearTimeout(l.current),l.current=0,b(!1)},[b]),S=a.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>{v.current=!0,b(!0),l.current=0},j)},[j,b]);return a.useEffect(()=>()=>{l.current&&(window.clearTimeout(l.current),l.current=0)},[]),e.jsx(pe,{...p,children:e.jsx(Je,{scope:r,contentId:g,open:y,stateAttribute:N,trigger:m,onTriggerChange:f,onTriggerEnter:a.useCallback(()=>{d.isOpenDelayedRef.current?S():C()},[d.isOpenDelayedRef,S,C]),onTriggerLeave:a.useCallback(()=>{h?w():(window.clearTimeout(l.current),l.current=0)},[w,h]),onOpen:C,onClose:w,disableHoverableContent:h,children:s})})};ee.displayName=A;var X="TooltipTrigger",te=a.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,n=V(X,s),c=z(X,s),i=$(s),u=a.useRef(null),d=K(r,u,n.onTriggerChange),p=a.useRef(!1),m=a.useRef(!1),f=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(me,{asChild:!0,...i,children:e.jsx(Ye.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...o,ref:d,onPointerMove:R(t.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(n.onTriggerEnter(),m.current=!0)}),onPointerLeave:R(t.onPointerLeave,()=>{n.onTriggerLeave(),m.current=!1}),onPointerDown:R(t.onPointerDown,()=>{n.open&&n.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:R(t.onFocus,()=>{p.current||n.onOpen()}),onBlur:R(t.onBlur,n.onClose),onClick:R(t.onClick,n.onClose)})})});te.displayName=X;var Qe="TooltipPortal",[Dt,et]=H(Qe,{forceMount:void 0}),D="TooltipContent",se=a.forwardRef((t,r)=>{const s=et(D,t.__scopeTooltip),{forceMount:o=s.forceMount,side:n="top",...c}=t,i=V(D,t.__scopeTooltip);return e.jsx(fe,{present:o||i.open,children:i.disableHoverableContent?e.jsx(re,{side:n,...c,ref:r}):e.jsx(tt,{side:n,...c,ref:r})})}),tt=a.forwardRef((t,r)=>{const s=V(D,t.__scopeTooltip),o=z(D,t.__scopeTooltip),n=a.useRef(null),c=K(r,n),[i,u]=a.useState(null),{trigger:d,onClose:p}=s,m=n.current,{onPointerInTransitChange:f}=o,g=a.useCallback(()=>{u(null),f(!1)},[f]),l=a.useCallback((h,j)=>{const v=h.currentTarget,y={x:h.clientX,y:h.clientY},b=at(y,v.getBoundingClientRect()),N=lt(y,b),C=it(j.getBoundingClientRect()),w=dt([...N,...C]);u(w),f(!0)},[f]);return a.useEffect(()=>()=>g(),[g]),a.useEffect(()=>{if(d&&m){const h=v=>l(v,m),j=v=>l(v,d);return d.addEventListener("pointerleave",h),m.addEventListener("pointerleave",j),()=>{d.removeEventListener("pointerleave",h),m.removeEventListener("pointerleave",j)}}},[d,m,l,g]),a.useEffect(()=>{if(i){const h=j=>{const v=j.target,y={x:j.clientX,y:j.clientY},b=d?.contains(v)||m?.contains(v),N=!ct(y,i);b?g():N&&(g(),p())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[d,m,i,p,g]),e.jsx(re,{...t,ref:c})}),[st,rt]=H(A,{isInside:!1}),nt=Xe("TooltipContent"),re=a.forwardRef((t,r)=>{const{__scopeTooltip:s,children:o,"aria-label":n,onEscapeKeyDown:c,onPointerDownOutside:i,...u}=t,d=V(D,s),p=$(s),{onClose:m}=d;return a.useEffect(()=>(document.addEventListener(G,m),()=>document.removeEventListener(G,m)),[m]),a.useEffect(()=>{if(d.trigger){const f=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),e.jsx(he,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:e.jsxs(ge,{"data-state":d.stateAttribute,...p,...u,ref:r,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(nt,{children:o}),e.jsx(st,{scope:s,isInside:!0,children:e.jsx(ve,{id:d.contentId,role:"tooltip",children:n||o})})]})})});se.displayName=D;var ne="TooltipArrow",ot=a.forwardRef((t,r)=>{const{__scopeTooltip:s,...o}=t,n=$(s);return rt(ne,s).isInside?null:e.jsx(je,{...n,...o,ref:r})});ot.displayName=ne;function at(t,r){const s=Math.abs(r.top-t.y),o=Math.abs(r.bottom-t.y),n=Math.abs(r.right-t.x),c=Math.abs(r.left-t.x);switch(Math.min(s,o,n,c)){case c:return"left";case n:return"right";case s:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function lt(t,r,s=5){const o=[];switch(r){case"top":o.push({x:t.x-s,y:t.y+s},{x:t.x+s,y:t.y+s});break;case"bottom":o.push({x:t.x-s,y:t.y-s},{x:t.x+s,y:t.y-s});break;case"left":o.push({x:t.x+s,y:t.y-s},{x:t.x+s,y:t.y+s});break;case"right":o.push({x:t.x-s,y:t.y-s},{x:t.x-s,y:t.y+s});break}return o}function it(t){const{top:r,right:s,bottom:o,left:n}=t;return[{x:n,y:r},{x:s,y:r},{x:s,y:o},{x:n,y:o}]}function ct(t,r){const{x:s,y:o}=t;let n=!1;for(let c=0,i=r.length-1;c<r.length;i=c++){const u=r[c],d=r[i],p=u.x,m=u.y,f=d.x,g=d.y;m>o!=g>o&&s<(f-p)*(o-m)/(g-m)+p&&(n=!n)}return n}function dt(t){const r=t.slice();return r.sort((s,o)=>s.x<o.x?-1:s.x>o.x?1:s.y<o.y?-1:s.y>o.y?1:0),ut(r)}function ut(t){if(t.length<=1)return t.slice();const r=[];for(let o=0;o<t.length;o++){const n=t[o];for(;r.length>=2;){const c=r[r.length-1],i=r[r.length-2];if((c.x-i.x)*(n.y-i.y)>=(c.y-i.y)*(n.x-i.x))r.pop();else break}r.push(n)}r.pop();const s=[];for(let o=t.length-1;o>=0;o--){const n=t[o];for(;s.length>=2;){const c=s[s.length-1],i=s[s.length-2];if((c.x-i.x)*(n.y-i.y)>=(c.y-i.y)*(n.x-i.x))s.pop();else break}s.push(n)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var xt=Q,pt=ee,mt=te,oe=se;const ft=xt,ht=pt,gt=mt,ae=a.forwardRef(({className:t,sideOffset:r=4,...s},o)=>e.jsx(oe,{ref:o,sideOffset:r,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));ae.displayName=oe.displayName;function vt(t){switch(t){case"PASS":return"pass";case"FAIL":return"fail";case"EXPIRING":return"expiring";case"EXPIRED":return"expired";default:return"not_taken"}}function jt(t){switch(t){case"pass":return{symbol:"✓",className:"bg-status-pass/20 text-status-pass hover:bg-status-pass/30"};case"fail":return{symbol:"✗",className:"bg-destructive/20 text-destructive hover:bg-destructive/30"};case"expiring":return{symbol:"⚠",className:"bg-status-warning/20 text-status-warning hover:bg-status-warning/30"};case"expired":return{symbol:"⏰",className:"bg-status-expired/20 text-status-expired hover:bg-status-expired/30"};default:return{symbol:"−",className:"bg-muted/50 text-muted-foreground hover:bg-muted"}}}function At(){const{t}=Fe(),r=ye(),{progressMatrix:s,loading:o}=Oe(),n=Me(x=>x.fetchProgressMatrix),[c,i]=a.useState("all"),[u,d]=a.useState("all"),[p,m]=a.useState("all"),[f,g]=a.useState("all"),[l,h]=a.useState(null);if(a.useEffect(()=>{n({building:c!=="all"?c:void 0,department:u!=="all"?u:void 0,position:p!=="all"?p:void 0,category:f!=="all"?f:void 0})},[c,u,p,f,n]),o)return e.jsx(Le,{});const j=s?.employees||[],v=s?.programs||[],y=s?.matrix||{},b=j.length*v.length;let N=0,C=0,w=0,S=0;Object.values(y).forEach(x=>{Object.values(x).forEach(T=>{if(T)switch(T.status){case"EXPIRED":S++;break;case"EXPIRING":w++;break;case"PASS":N++;break;case"FAIL":C++;break}})});const k=b-N-C-S-w,le=(x,T)=>{const I=y[x.employee_id]?.[T.program_code];h({employee:x,program:T,cell:I})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:t("progress.title")}),e.jsx("p",{className:"text-muted-foreground",children:"직원별 교육 이수 현황을 한눈에 확인하세요"})]}),e.jsxs(B,{variant:"outline",children:[e.jsx(He,{className:"h-4 w-4 mr-2"}),t("common.export")]})]}),e.jsx(_,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"범례:"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-6 h-6 rounded flex items-center justify-center bg-status-pass/20 text-status-pass text-sm",children:"✓"}),e.jsx("span",{className:"text-sm",children:"합격"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-6 h-6 rounded flex items-center justify-center bg-destructive/20 text-destructive text-sm",children:"✗"}),e.jsx("span",{className:"text-sm",children:"불합격"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-6 h-6 rounded flex items-center justify-center bg-status-warning/20 text-status-warning text-sm",children:"⚠"}),e.jsx("span",{className:"text-sm",children:"만료 임박"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-6 h-6 rounded flex items-center justify-center bg-status-expired/20 text-status-expired text-sm",children:"⏰"}),e.jsx("span",{className:"text-sm",children:"만료됨"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("span",{className:"w-6 h-6 rounded flex items-center justify-center bg-muted/50 text-muted-foreground text-sm",children:"−"}),e.jsx("span",{className:"text-sm",children:"미이수"})]})]})})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[e.jsx(_,{children:e.jsxs(P,{className:"pt-4",children:[e.jsx("div",{className:"text-2xl font-bold text-status-pass",children:N}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"합격"})]})}),e.jsx(_,{children:e.jsxs(P,{className:"pt-4",children:[e.jsx("div",{className:"text-2xl font-bold text-destructive",children:C}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"불합격"})]})}),e.jsx(_,{children:e.jsxs(P,{className:"pt-4",children:[e.jsx("div",{className:"text-2xl font-bold text-status-warning",children:w}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"만료 임박"})]})}),e.jsx(_,{children:e.jsxs(P,{className:"pt-4",children:[e.jsx("div",{className:"text-2xl font-bold text-status-expired",children:S}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"만료됨"})]})}),e.jsx(_,{children:e.jsxs(P,{className:"pt-4",children:[e.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:k}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"미이수"})]})})]}),e.jsx(_,{children:e.jsx(P,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(O,{value:c,onValueChange:i,children:[e.jsx(M,{className:"w-[180px]",children:e.jsx(L,{placeholder:t("employee.building")})}),e.jsxs(F,{children:[e.jsx(E,{value:"all",children:t("common.all")}),Ne.map(x=>e.jsx(E,{value:x.value,children:t(`building.${x.value}`)},x.value))]})]}),e.jsxs(O,{value:u,onValueChange:d,children:[e.jsx(M,{className:"w-[180px]",children:e.jsx(L,{placeholder:t("employee.department")})}),e.jsxs(F,{children:[e.jsx(E,{value:"all",children:t("common.all")}),Ce.map(x=>e.jsx(E,{value:x.value,children:x.label},x.value))]})]}),e.jsxs(O,{value:p,onValueChange:m,children:[e.jsx(M,{className:"w-[180px]",children:e.jsx(L,{placeholder:t("employee.position")})}),e.jsxs(F,{children:[e.jsx(E,{value:"all",children:t("common.all")}),we.map(x=>e.jsx(E,{value:x.value,children:t(`position.${x.value}`)},x.value))]})]}),e.jsxs(O,{value:f,onValueChange:g,children:[e.jsx(M,{className:"w-[180px]",children:e.jsx(L,{placeholder:t("program.category")})}),e.jsxs(F,{children:[e.jsx(E,{value:"all",children:t("common.all")}),Te.map(x=>e.jsx(E,{value:x.value,children:t(`category.${x.value}`)},x.value))]})]})]})})}),e.jsxs(_,{children:[e.jsxs(_e,{children:[e.jsx(Pe,{children:"교육 진도 매트릭스"}),e.jsxs(Ee,{children:[j.length,"명의 직원 × ",v.length,"개의 프로그램"]})]}),e.jsx(P,{children:j.length===0||v.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("common.noData")}):e.jsx(Se,{className:"w-full",children:e.jsx("div",{className:"min-w-max",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 z-20 bg-background border p-2 text-left min-w-[150px]",children:"직원"}),v.map(x=>e.jsx(ft,{children:e.jsxs(ht,{children:[e.jsx(gt,{asChild:!0,children:e.jsx("th",{className:"border p-2 text-center min-w-[60px] cursor-help",children:e.jsx("div",{className:"text-xs font-medium",children:x.program_code})})}),e.jsxs(ae,{children:[e.jsx("p",{className:"font-medium",children:x.program_name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t(`category.${x.category}`)," · ",x.passing_score,"점 이상"]})]})]})},x.program_code))]})}),e.jsx("tbody",{children:j.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:"sticky left-0 z-10 bg-background border p-2",children:e.jsxs("div",{className:"cursor-pointer hover:text-primary",onClick:()=>r(`/employees/${x.employee_id}`),children:[e.jsx("div",{className:"font-medium text-sm",children:x.employee_name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:x.employee_id})]})}),v.map(T=>{const I=y[x.employee_id]?.[T.program_code],ce=I?vt(I.status):"not_taken",W=jt(ce);return e.jsx("td",{className:"border p-1 text-center",children:e.jsx("button",{className:`w-8 h-8 rounded flex items-center justify-center text-sm font-medium transition-colors ${W.className}`,onClick:()=>le(x,T),children:W.symbol})},T.program_code)})]},x.employee_id))})]})})})})]}),e.jsx(Re,{open:!!l,onOpenChange:()=>h(null),children:e.jsxs(De,{children:[e.jsxs(Ae,{children:[e.jsx(ke,{children:"교육 이력 상세"}),e.jsxs(Ie,{children:[l?.employee.employee_name," - ",l?.program.program_name]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"직원"}),e.jsx("p",{className:"font-medium",children:l?.employee.employee_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l?.employee.employee_id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"프로그램"}),e.jsx("p",{className:"font-medium",children:l?.program.program_code}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l?.program.program_name})]})]}),l?.cell?e.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"최근 결과"}),e.jsx(q,{variant:l.cell.last_result==="PASS"?"success":l.cell.last_result==="FAIL"?"destructive":"secondary",children:l.cell.last_result==="PASS"?t("training.pass"):l.cell.last_result==="FAIL"?t("training.fail"):t("training.absent")})]}),l.cell.last_score!==null&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"점수"}),e.jsxs("span",{className:"font-medium",children:[l.cell.last_score,"점"]})]}),l.cell.last_grade&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"등급"}),e.jsx(q,{variant:l.cell.last_grade==="AA"?"gradeAA":l.cell.last_grade==="A"?"gradeA":l.cell.last_grade==="B"?"gradeB":"gradeC",children:l.cell.last_grade})]}),l.cell.last_training_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"교육일"}),e.jsx("span",{children:U(new Date(l.cell.last_training_date),"yyyy-MM-dd")})]}),l.cell.expiration_date&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"만료일"}),e.jsxs("span",{className:l.cell.status==="EXPIRED"?"text-status-expired":l.cell.status==="EXPIRING"?"text-status-warning":"",children:[U(new Date(l.cell.expiration_date),"yyyy-MM-dd"),l.cell.status==="EXPIRED"&&" (만료됨)",l.cell.status==="EXPIRING"&&" (만료 임박)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"총 이수 횟수"}),e.jsxs("span",{children:[l.cell.completion_count,"회"]})]})]}):e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"교육 이력이 없습니다"}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(B,{variant:"outline",onClick:()=>r(`/employees/${l?.employee.employee_id}`),children:"직원 상세"}),e.jsx(B,{onClick:()=>h(null),children:"닫기"})]})]})]})})]})}export{At as default};
