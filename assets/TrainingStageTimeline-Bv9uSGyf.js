import{j as e}from"./vendor-ui-3vVLwvSG.js";import{c as l}from"./index-DaEJbrWA.js";import{w as o,t as d,b as m,ax as x}from"./vendor-icons-B-g4Br4W.js";import{f as c}from"./vendor-utils-CC1vNFCq.js";const u=t=>{switch(t){case"COMPLETED":return e.jsx(d,{className:"h-5 w-5 text-status-pass"});case"IN_PROGRESS":return e.jsx(x,{className:"h-5 w-5 text-primary"});default:return e.jsx(m,{className:"h-5 w-5 text-muted-foreground"})}},p=t=>{switch(t){case"COMPLETED":return"bg-status-pass";case"IN_PROGRESS":return"bg-primary";default:return"bg-muted"}};function g({stages:t,className:i,onStageClick:a}){const r=[...t].sort((s,n)=>s.stage_order-n.stage_order);return e.jsx("div",{className:l("space-y-0",i),children:r.map((s,n)=>e.jsxs("div",{className:l("relative flex items-start gap-4 pb-6",a&&"cursor-pointer hover:bg-accent/50 -mx-2 px-2 rounded-lg transition-colors"),onClick:()=>a?.(s),role:a?"button":void 0,tabIndex:a?0:void 0,children:[n<r.length-1&&e.jsx("div",{className:l("absolute left-[10px] top-8 w-0.5 h-[calc(100%-24px)]",p(s.status))}),e.jsx("div",{className:"relative z-10 flex-shrink-0",children:u(s.status)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("h4",{className:l("font-medium text-sm",s.status==="COMPLETED"&&"text-status-pass",s.status==="IN_PROGRESS"&&"text-primary font-semibold",s.status==="PENDING"&&"text-muted-foreground"),children:[s.stage_order,". ",s.stage_name]}),s.status==="IN_PROGRESS"&&e.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded-full",children:"진행중"})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-4 text-xs text-muted-foreground",children:[s.start_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"h-3 w-3"}),"시작: ",c(new Date(s.start_date),"yyyy-MM-dd")]}),s.end_date&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"h-3 w-3"}),"완료: ",c(new Date(s.end_date),"yyyy-MM-dd")]})]})]})]},s.stage_id))})}function y({stages:t,className:i}){const a=t.filter(n=>n.status==="COMPLETED").length,r=t.length,s=r>0?Math.round(a/r*100):0;return e.jsxs("div",{className:l("flex items-center gap-2",i),children:[e.jsx("div",{className:"flex-1 h-2 bg-muted rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300",style:{width:`${s}%`}})}),e.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[a,"/",r]})]})}export{y as T,g as a};
