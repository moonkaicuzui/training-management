import{j as e}from"./vendor-ui-3vVLwvSG.js";import{r as m}from"./vendor-react-3RSvEdhP.js";import{g as Ce,h as Pe,B as c,C as E,a as $,b as L,d as H,e as O,f as w,D as Me,j as _e,k as De,l as V,m as Se,I as b}from"./index-CgMhWZQG.js";import{S as G,a as J,b as Z,c as ee,d as T}from"./select-BFo01T9H.js";import{D as I,a as F,b as Q,c as A,d as z,e as B}from"./dialog-Xn2gZ5Td.js";import{L as f}from"./label-eAUooUtc.js";import{T as ke}from"./textarea-kxjWQsDZ.js";import{P as We}from"./LoadingSpinner-8oabGzS7.js";import{u as Ee}from"./vendor-i18n-BvwHJnYO.js";import{b as v,d as l,e as h,g as re,s as $e,h as Le,i as He,j as Oe,k as Ve,f as j,l as te,m as X,n as Ie,o as Fe,p as Qe}from"./vendor-utils-DC3_vehr.js";import{P as Ae,w as ze,C as Be,t as Xe,E as qe,u as Ye,v as Re,s as ae,x as ne,U as Ue,j as se}from"./vendor-icons-O1RA8j5J.js";import"./vendor-charts-BNo0ya6L.js";const Ke={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},Ge=(a,i,n)=>{let r;const d=Ke[a];return typeof d=="string"?r=d:i===1?r=d.one:r=d.other.replace("{{count}}",i.toString()),n?.addSuffix?n.comparison&&n.comparison>0?r+" 후":r+" 전":r},Je={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},Ze={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},et={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},tt={date:v({formats:Je,defaultWidth:"full"}),time:v({formats:Ze,defaultWidth:"full"}),dateTime:v({formats:et,defaultWidth:"full"})},at={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},nt=(a,i,n,r)=>at[a],st={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},rt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},it={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ot={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},dt={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},ct={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},lt=(a,i)=>{const n=Number(a);switch(String(i?.unit)){case"minute":case"second":return String(n);case"date":return n+"일";default:return n+"번째"}},ht={ordinalNumber:lt,era:l({values:st,defaultWidth:"wide"}),quarter:l({values:rt,defaultWidth:"wide",argumentCallback:a=>a-1}),month:l({values:it,defaultWidth:"wide"}),day:l({values:ot,defaultWidth:"wide"}),dayPeriod:l({values:dt,defaultWidth:"wide",formattingValues:ct,defaultFormattingWidth:"wide"})},mt=/^(\d+)(일|번째)?/i,ut=/\d+/i,gt={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},xt={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},pt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},ft={any:[/1/i,/2/i,/3/i,/4/i]},jt={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},vt={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},Nt={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},yt={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},wt={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},bt={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},Tt={ordinalNumber:re({matchPattern:mt,parsePattern:ut,valueCallback:a=>parseInt(a,10)}),era:h({matchPatterns:gt,defaultMatchWidth:"wide",parsePatterns:xt,defaultParseWidth:"any"}),quarter:h({matchPatterns:pt,defaultMatchWidth:"wide",parsePatterns:ft,defaultParseWidth:"any",valueCallback:a=>a+1}),month:h({matchPatterns:jt,defaultMatchWidth:"wide",parsePatterns:vt,defaultParseWidth:"any"}),day:h({matchPatterns:Nt,defaultMatchWidth:"wide",parsePatterns:yt,defaultParseWidth:"any"}),dayPeriod:h({matchPatterns:wt,defaultMatchWidth:"any",parsePatterns:bt,defaultParseWidth:"any"})},Ct={code:"ko",formatDistance:Ge,formatLong:tt,formatRelative:nt,localize:ht,match:Tt,options:{weekStartsOn:0,firstWeekContainsDate:1}},Pt={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},Mt=(a,i,n)=>{let r;const d=Pt[a];return typeof d=="string"?r=d:i===1?r=d.one:r=d.other.replace("{{count}}",String(i)),n?.addSuffix?n.comparison&&n.comparison>0?r+" nữa":r+" trước":r},_t={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},Dt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},St={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},kt={date:v({formats:_t,defaultWidth:"full"}),time:v({formats:Dt,defaultWidth:"full"}),dateTime:v({formats:St,defaultWidth:"full"})},Wt={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},Et=(a,i,n,r)=>Wt[a],$t={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},Lt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},Ht={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},Ot={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},Vt={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},It={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},Ft={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},Qt={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},At=(a,i)=>{const n=Number(a),r=i?.unit;if(r==="quarter")switch(n){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(r==="day")switch(n){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(r==="week")return n===1?"thứ nhất":"thứ "+n;if(r==="dayOfYear")return n===1?"đầu tiên":"thứ "+n}return String(n)},zt={ordinalNumber:At,era:l({values:$t,defaultWidth:"wide"}),quarter:l({values:Lt,defaultWidth:"wide",formattingValues:Ht,defaultFormattingWidth:"wide",argumentCallback:a=>a-1}),month:l({values:Ot,defaultWidth:"wide",formattingValues:Vt,defaultFormattingWidth:"wide"}),day:l({values:It,defaultWidth:"wide"}),dayPeriod:l({values:Ft,defaultWidth:"wide",formattingValues:Qt,defaultFormattingWidth:"wide"})},Bt=/^(\d+)/i,Xt=/\d+/i,qt={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},Yt={any:[/^t/i,/^s/i]},Rt={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},Ut={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},Kt={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},Gt={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},Jt={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},Zt={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},ea={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},ta={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},aa={ordinalNumber:re({matchPattern:Bt,parsePattern:Xt,valueCallback:a=>parseInt(a,10)}),era:h({matchPatterns:qt,defaultMatchWidth:"wide",parsePatterns:Yt,defaultParseWidth:"any"}),quarter:h({matchPatterns:Rt,defaultMatchWidth:"wide",parsePatterns:Ut,defaultParseWidth:"any",valueCallback:a=>a+1}),month:h({matchPatterns:Kt,defaultMatchWidth:"wide",parsePatterns:Gt,defaultParseWidth:"wide"}),day:h({matchPatterns:Jt,defaultMatchWidth:"wide",parsePatterns:Zt,defaultParseWidth:"wide"}),dayPeriod:h({matchPatterns:ea,defaultMatchWidth:"wide",parsePatterns:ta,defaultParseWidth:"any"})},na={code:"vi",formatDistance:Mt,formatLong:kt,formatRelative:Et,localize:zt,match:aa,options:{weekStartsOn:1,firstWeekContainsDate:1}},sa=["일","월","화","수","목","금","토"];function fa(){const{t:a}=Ee(),{sessions:i,programs:n,loading:r,fetchSessions:d,fetchPrograms:ie,createSession:oe,cancelSession:de}=Ce(),{addToast:N,language:ce}=Pe(),[g,q]=m.useState(new Date),[x,le]=m.useState(null),[C,he]=m.useState("all"),[me,P]=m.useState(!1),[ue,M]=m.useState(!1),[Y,R]=m.useState(null),[o,_]=m.useState(null),[s,u]=m.useState({program_code:"",session_date:"",session_time:"09:00",trainer:"",location:"",max_attendees:20,notes:""}),D=()=>{switch(ce){case"ko":return Ct;case"vi":return na;default:return Qe}};m.useEffect(()=>{d({status:C!=="all"?C:void 0}),ie({})},[C]);const ge=()=>{q(Ie(g))},xe=()=>{q(Fe(g,1))},pe=$e(g),fe=Le(g),je=He(pe,{weekStartsOn:0}),ve=Oe(fe,{weekStartsOn:0}),Ne=Ve({start:je,end:ve}),U=t=>i.filter(p=>X(new Date(p.session_date),t)),S=t=>{switch(t){case"PLANNED":return"default";case"COMPLETED":return"success";case"CANCELLED":return"destructive";default:return"secondary"}},ye=async()=>{if(!s.program_code||!s.session_date){N({type:"error",title:"필수 정보를 입력해주세요"});return}try{await oe({program_code:s.program_code,session_date:s.session_date,session_time:s.session_time,trainer:s.trainer,trainer_name:s.trainer,location:s.location,max_attendees:s.max_attendees,notes:s.notes,status:"PLANNED",attendees:[],created_by:"admin"}),N({type:"success",title:a("messages.saveSuccess")}),P(!1),u({program_code:"",session_date:"",session_time:"09:00",trainer:"",location:"",max_attendees:20,notes:""})}catch{N({type:"error",title:a("messages.saveError")})}},we=async()=>{if(Y)try{await de(Y),N({type:"success",title:"교육이 취소되었습니다"})}catch{N({type:"error",title:"교육 취소에 실패했습니다"})}finally{M(!1),R(null)}};if(r.sessions)return e.jsx(We,{});const k=x?U(x):[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:a("session.title")}),e.jsx("p",{className:"text-muted-foreground",children:"교육 일정을 관리하고 참석자를 등록하세요"})]}),e.jsxs(c,{onClick:()=>P(!0),children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"}),a("session.addSession")]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsxs(E,{className:"lg:col-span-2",children:[e.jsxs($,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:j(g,"yyyy년 M월",{locale:D()})}),e.jsxs(H,{children:["이번 달 교육 일정 ",i.filter(t=>te(new Date(t.session_date),g)).length,"건"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:ge,children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"icon",onClick:xe,children:e.jsx(Be,{className:"h-4 w-4"})})]})]}),e.jsx(O,{children:e.jsxs("div",{className:"grid grid-cols-7 gap-px bg-muted rounded-lg overflow-hidden",children:[sa.map(t=>e.jsx("div",{className:"bg-background p-2 text-center text-sm font-medium text-muted-foreground",children:t},t)),Ne.map((t,p)=>{const W=U(t),be=te(t,g),Te=x&&X(t,x),K=X(t,new Date);return e.jsxs("div",{className:`
                      bg-background p-2 min-h-[100px] cursor-pointer transition-colors
                      ${be?"":"text-muted-foreground/50"}
                      ${Te?"ring-2 ring-primary ring-inset":""}
                      ${K?"bg-primary/5":""}
                      hover:bg-muted/50
                    `,onClick:()=>le(t),children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${K?"text-primary":""}`,children:j(t,"d")}),e.jsxs("div",{className:"space-y-1",children:[W.slice(0,2).map(y=>e.jsx("div",{className:`
                            text-xs p-1 rounded truncate
                            ${y.status==="PLANNED"?"bg-primary/10 text-primary":""}
                            ${y.status==="COMPLETED"?"bg-status-pass/10 text-status-pass":""}
                            ${y.status==="CANCELLED"?"bg-destructive/10 text-destructive line-through":""}
                          `,children:y.program_code},y.session_id)),W.length>2&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["+",W.length-2,"건"]})]})]},p)})]})})]}),e.jsxs(E,{children:[e.jsxs($,{children:[e.jsx(L,{children:x?j(x,"M월 d일 (E)",{locale:D()}):"날짜를 선택하세요"}),e.jsxs(H,{children:[k.length,"건의 교육"]})]}),e.jsx(O,{children:x?k.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"예정된 교육이 없습니다"}):e.jsx("div",{className:"space-y-4",children:k.map(t=>e.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx(w,{variant:"outline",className:"mb-1",children:t.program_code}),e.jsx("p",{className:"font-medium",children:n.find(p=>p.program_code===t.program_code)?.program_name||t.program_code})]}),e.jsxs(Me,{children:[e.jsx(_e,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"icon",children:e.jsx(Xe,{className:"h-4 w-4"})})}),e.jsxs(De,{align:"end",children:[e.jsxs(V,{onClick:()=>_(t),children:[e.jsx(qe,{className:"h-4 w-4 mr-2"}),"상세 보기"]}),e.jsxs(V,{children:[e.jsx(Ye,{className:"h-4 w-4 mr-2"}),a("common.edit")]}),t.status==="PLANNED"&&e.jsxs(e.Fragment,{children:[e.jsx(Se,{}),e.jsxs(V,{className:"text-destructive",onClick:()=>{R(t.session_id),M(!0)},children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"교육 취소"]})]})]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:t.session_time})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx("span",{children:t.location||"미정"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:t.trainer||"미정"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsxs("span",{children:[t.attendees.length," / ",t.max_attendees,"명"]})]})]}),e.jsx(w,{variant:S(t.status),children:t.status==="PLANNED"?a("session.planned"):t.status==="COMPLETED"?a("session.completed"):a("session.cancelled")})]},t.session_id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"캘린더에서 날짜를 클릭하세요"})})]})]}),e.jsxs(E,{children:[e.jsx($,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"전체 교육 일정"}),e.jsx(H,{children:"예정된 모든 교육 세션"})]}),e.jsxs(G,{value:C,onValueChange:he,children:[e.jsx(J,{className:"w-[150px]",children:e.jsx(Z,{placeholder:"상태"})}),e.jsxs(ee,{children:[e.jsx(T,{value:"all",children:a("common.all")}),e.jsx(T,{value:"PLANNED",children:a("session.planned")}),e.jsx(T,{value:"COMPLETED",children:a("session.completed")}),e.jsx(T,{value:"CANCELLED",children:a("session.cancelled")})]})]})]})}),e.jsx(O,{children:i.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a("common.noData")}):e.jsx("div",{className:"space-y-4",children:i.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center p-2 bg-muted rounded-lg min-w-[60px]",children:[e.jsx("div",{className:"text-lg font-bold",children:j(new Date(t.session_date),"d")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:j(new Date(t.session_date),"MMM",{locale:D()})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{variant:"outline",children:t.program_code}),e.jsx(w,{variant:S(t.status),children:t.status==="PLANNED"?a("session.planned"):t.status==="COMPLETED"?a("session.completed"):a("session.cancelled")})]}),e.jsx("p",{className:"font-medium mt-1",children:n.find(p=>p.program_code===t.program_code)?.program_name||t.program_code}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),t.session_time]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),t.location||"미정"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),t.attendees.length,"/",t.max_attendees]})]})]})]}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>_(t),children:"상세"})]},t.session_id))})})]}),e.jsx(I,{open:me,onOpenChange:P,children:e.jsxs(F,{className:"max-w-md",children:[e.jsxs(Q,{children:[e.jsx(A,{children:a("session.addSession")}),e.jsx(z,{children:"새로운 교육 세션을 생성합니다"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"프로그램 *"}),e.jsxs(G,{value:s.program_code,onValueChange:t=>u({...s,program_code:t}),children:[e.jsx(J,{children:e.jsx(Z,{placeholder:"프로그램 선택"})}),e.jsx(ee,{children:n.filter(t=>t.is_active).map(t=>e.jsxs(T,{value:t.program_code,children:[t.program_code," - ",t.program_name]},t.program_code))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"교육 날짜 *"}),e.jsx(b,{type:"date",value:s.session_date,onChange:t=>u({...s,session_date:t.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"교육 시간"}),e.jsx(b,{type:"time",value:s.session_time,onChange:t=>u({...s,session_time:t.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"강사"}),e.jsx(b,{value:s.trainer,onChange:t=>u({...s,trainer:t.target.value}),placeholder:"강사명"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"장소"}),e.jsx(b,{value:s.location,onChange:t=>u({...s,location:t.target.value}),placeholder:"교육 장소"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"최대 참석자 수"}),e.jsx(b,{type:"number",value:s.max_attendees,onChange:t=>u({...s,max_attendees:parseInt(t.target.value)||20})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"메모"}),e.jsx(ke,{value:s.notes,onChange:t=>u({...s,notes:t.target.value}),placeholder:"추가 메모"})]})]}),e.jsxs(B,{children:[e.jsx(c,{variant:"outline",onClick:()=>P(!1),children:a("common.cancel")}),e.jsx(c,{onClick:ye,children:a("common.save")})]})]})}),e.jsx(I,{open:ue,onOpenChange:M,children:e.jsxs(F,{children:[e.jsxs(Q,{children:[e.jsx(A,{children:"교육 취소"}),e.jsx(z,{children:"이 교육 세션을 취소하시겠습니까? 참석자들에게 알림이 전송됩니다."})]}),e.jsxs(B,{children:[e.jsx(c,{variant:"outline",onClick:()=>M(!1),children:a("common.cancel")}),e.jsx(c,{variant:"destructive",onClick:we,children:"교육 취소"})]})]})}),e.jsx(I,{open:!!o,onOpenChange:()=>_(null),children:e.jsxs(F,{children:[e.jsxs(Q,{children:[e.jsx(A,{children:"교육 상세 정보"}),e.jsx(z,{children:o?.program_code})]}),o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"프로그램"}),e.jsx("p",{className:"font-medium",children:n.find(t=>t.program_code===o.program_code)?.program_name||o.program_code})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"상태"}),e.jsx(w,{variant:S(o.status),children:o.status==="PLANNED"?a("session.planned"):o.status==="COMPLETED"?a("session.completed"):a("session.cancelled")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"날짜"}),e.jsx("p",{className:"font-medium",children:j(new Date(o.session_date),"yyyy년 M월 d일 (E)",{locale:D()})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"시간"}),e.jsx("p",{className:"font-medium",children:o.session_time})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"강사"}),e.jsx("p",{className:"font-medium",children:o.trainer||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"장소"}),e.jsx("p",{className:"font-medium",children:o.location||"-"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"참석자"}),e.jsxs("p",{className:"font-medium",children:[o.attendees.length," / ",o.max_attendees,"명"]})]}),o.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"메모"}),e.jsx("p",{children:o.notes})]})]}),e.jsx(B,{children:e.jsx(c,{onClick:()=>_(null),children:"닫기"})})]})})]})}export{fa as default};
